<div class="container">
  <h1 class="text-center mb-3">Manage JSON database</h1>
  <p class="text-center mb-3">The used database can be freely changed out, but it must have an 'id' field (supported datatypes: string, integer, boolean, date)</p>
  <p class="text-center mb-3">The URL used in the data service must match the new database's URL</p>
  <table class="table table-hover table-bordered">
    <tbody>
      <tr class="text-center">
          <th>
              <span data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="newReg()">&#10010;</span>
          </th>
          @for (property of keys; track $index) {
            <th>{{property}}</th>
          }
      </tr>
      @for (reg of data; track $index) {
          <tr>
              <td>
                  <span (click)="updateReg(reg)" data-bs-toggle="modal" data-bs-target="#exampleModal">&#9998;</span>
                  <span (click)="deleteReg(reg)">&#10008;</span>
                </td>
                @for (property of keys; track $index) {
                    <td>{{reg[property]}}</td>
                }
            </tr>  
        }
    </tbody>
    </table>
</div>
<app-newdata [newData]="newData === undefined ? this.update : newData" [keys]="keys" (saved)="save($event)" (cancelled)="cancel()"></app-newdata>
